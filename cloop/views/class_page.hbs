<!-- Lead author: Ming -->
<div class="class" id={{classId}}>

	<div class="class_header">
		<span class="class_information">
			<span class="class_title">Welcome to {{title}}</span>
			<span class="class_description">{{description}}</span>
			<span><form action='/group' method='get'><input type="submit" value="Back to user page"></form></span>
		</span
	<div class="class_header">

	<div class="class_body">
	<form action='/post/{{classId}}/post' method="post" class="new_post">
		Create a post: <input type="text" name="postText"><input type="submit" value = "Post"> <!-- <input type="submit" value="Attach"> -->
	</form>
	
	<div id="posts-table">
		{{#each post}}
		<!-- helper to only display if removed is false, and checks the number of flags-->
		<!-- register a helper function to evaluate the number of flags and change removed? -->
		
		<div class="post" id={{_id}}>
		
			<div class="post_header">
				<span class="upvotes"> <button class="upvote post" type="submit"></button> {{numUpvotes}} </span>
				<span class="post_author">{{author.name}}</span>
				<span class="post_time">{{timeCreated}}</span>
				<span class="delete_post"> <input type="submit" value="Delete Post"> </span>
			</div>
		
			<div class="post_body">
				<p>{{text}}</p>
				<!-- icon to represent resource? -->
				<p> Attached resource: {{resource}} </p>
			</div>
		
			<div class="post_footer">
				{{#each comments}}
					<!-- render the comment handlebar template -->
					<div class="comment" id={{_id}}>
						<div class="comment_header">
							<span class="upvotes"> <button type="submit" class="upvote comment"></button> {{numUpvotes}}</span>
							<span class="comment_author">{{author.name}}</span>
							<span class="comment_time">{{timeCreated}}</span>
							<span class="delete_comment"> <input type="submit" value="Delete Comment"> </span>
						</div>

						<div class="comment_body">
							<p>{{text}}</p>
						</div>
					</div>
					
				{{/each}}
				<!-- add a text input for adding a comment, action tag -->
				<form action='/comment/{{_id}}/comment' method='post' id="new_comment">
					Reply to this thread: <input type="text" name='commentText'><input type="submit" value = "Post">
				</form>
			</div>
		</div>

		{{/each}}
	</div>
	<div class="class_body">


</div>